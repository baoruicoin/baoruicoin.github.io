import{o as te,T as fe,e as me,gv as K,h0 as ve,gz as ye,fB as _,h1 as pe,gY as se,gm as Z,fp as j,h2 as ge,gf as he,h3 as Ce,h4 as be,h5 as Ee,gH as U,fu as G,fS as X,d as Y,z as R,fK as b,g as we,fR as ke,g3 as Me,fq as J,h6 as Se,c as L,t as O,v as V,x as H,fC as w,G as o,y as Te,A as B,fT as Be,O as q,fE as Ie,R as x,X as ne,fL as le,gW as Le,h7 as De,gr as ae,gj as Ae,h8 as $e,h9 as Q,r as I,ha as Oe,hb as Pe,M as Fe,fo as ze,hc as Ne,gX as ee,fw as Re,gx as oe,fz as Ye,hd as He,ga as Xe,S as Ue,fG as Ve,fH as We,fI as Ke,he as je,fP as qe}from"./entry.U1878MSe.js";import{P as W}from"./vnode.2JH4ptob.js";const xe=(e,t,r)=>{let d={offsetX:0,offsetY:0};const n=l=>{const m=l.clientX,c=l.clientY,{offsetX:f,offsetY:y}=d,p=e.value.getBoundingClientRect(),i=p.left,v=p.top,D=p.width,P=p.height,F=document.documentElement.clientWidth,A=document.documentElement.clientHeight,z=-i+f,N=-v+y,$=F-i-D+f,k=A-v-P+y,E=M=>{const s=Math.min(Math.max(f+M.clientX-m,z),$),C=Math.min(Math.max(y+M.clientY-c,N),k);d={offsetX:s,offsetY:C},e.value&&(e.value.style.transform=`translate(${K(s)}, ${K(C)})`)},h=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",h)},u=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",n)},a=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",n)};te(()=>{fe(()=>{r.value?u():a()})}),me(()=>{a()})},_e=(e,t={})=>{ve(e)||ye("[useLockscreen]","You need to pass a ref param to this function");const r=t.ns||_("popup"),d=pe(()=>r.bm("parent","hidden"));if(!se||Z(document.body,d.value))return;let n=0,u=!1,a="0";const l=()=>{setTimeout(()=>{Ee(document==null?void 0:document.body,d.value),u&&document&&(document.body.style.width=a)},200)};j(e,m=>{if(!m){l();return}u=!Z(document.body,d.value),u&&(a=document.body.style.width),n=ge(r.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,f=he(document.body,"overflowY");n>0&&(c||f==="scroll")&&u&&(document.body.style.width=`calc(100% - ${n}px)`),Ce(document.body,d.value)}),be(()=>l())},ie=e=>{if(!e)return{onClick:U,onMousedown:U,onMouseup:U};let t=!1,r=!1;return{onClick:a=>{t&&r&&e(a),t=r=!1},onMousedown:a=>{t=a.target===a.currentTarget},onMouseup:a=>{r=a.target===a.currentTarget}}},Ge=G({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),Ze={click:e=>e instanceof MouseEvent},Je="overlay";var Qe=Y({name:"ElOverlay",props:Ge,emits:Ze,setup(e,{slots:t,emit:r}){const d=_(Je),n=m=>{r("click",m)},{onClick:u,onMousedown:a,onMouseup:l}=ie(e.customMaskEvent?void 0:n);return()=>e.mask?R("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:a,onMouseup:l},[b(t,"default")],W.STYLE|W.CLASS|W.PROPS,["onClick","onMouseup","onMousedown"]):we("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[b(t,"default")])}});const eo=Qe,re=Symbol("dialogInjectionKey"),ue=G({center:Boolean,alignCenter:Boolean,closeIcon:{type:ke},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),oo={close:()=>!0},to=["aria-level"],so=["aria-label"],no=["id"],lo=Y({name:"ElDialogContent"}),ao=Y({...lo,props:ue,emits:oo,setup(e){const t=e,{t:r}=Me(),{Close:d}=Le,{dialogRef:n,headerRef:u,bodyId:a,ns:l,style:m}=J(re),{focusTrapRef:c}=J(Se),f=L(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center},t.customClass]),y=De(c,n),p=L(()=>t.draggable);return xe(n,u,p),(i,v)=>(O(),V("div",{ref:o(y),class:w(o(f)),style:ne(o(m)),tabindex:"-1"},[H("header",{ref_key:"headerRef",ref:u,class:w(o(l).e("header"))},[b(i.$slots,"header",{},()=>[H("span",{role:"heading","aria-level":i.ariaLevel,class:w(o(l).e("title"))},Te(i.title),11,to)]),i.showClose?(O(),V("button",{key:0,"aria-label":o(r)("el.dialog.close"),class:w(o(l).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=D=>i.$emit("close"))},[R(o(Ie),{class:w(o(l).e("close"))},{default:B(()=>[(O(),q(Be(i.closeIcon||o(d))))]),_:1},8,["class"])],10,so)):x("v-if",!0)],2),H("div",{id:o(a),class:w(o(l).e("body"))},[b(i.$slots,"default")],10,no),i.$slots.footer?(O(),V("footer",{key:0,class:w(o(l).e("footer"))},[b(i.$slots,"footer")],2)):x("v-if",!0)],6))}});var io=le(ao,[["__file","dialog-content.vue"]]);const ro=G({...ue,appendToBody:Boolean,appendTo:{type:X(String),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ae]:e=>Ae(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},co=(e,t)=>{var r;const n=ze().emit,{nextZIndex:u}=$e();let a="";const l=Q(),m=Q(),c=I(!1),f=I(!1),y=I(!1),p=I((r=e.zIndex)!=null?r:u());let i,v;const D=Oe("namespace",Ne),P=L(()=>{const g={},T=`--${D.value}-dialog`;return e.fullscreen||(e.top&&(g[`${T}-margin-top`]=e.top),e.width&&(g[`${T}-width`]=K(e.width))),g}),F=L(()=>e.alignCenter?{display:"flex"}:{});function A(){n("opened")}function z(){n("closed"),n(ae,!1),e.destroyOnClose&&(y.value=!1)}function N(){n("close")}function $(){v==null||v(),i==null||i(),e.openDelay&&e.openDelay>0?{stop:i}=ee(()=>M(),e.openDelay):M()}function k(){i==null||i(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=ee(()=>s(),e.closeDelay):s()}function E(){function g(T){T||(f.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(g):k()}function h(){e.closeOnClickModal&&E()}function M(){se&&(c.value=!0)}function s(){c.value=!1}function C(){n("openAutoFocus")}function S(){n("closeAutoFocus")}function ce(g){var T;((T=g.detail)==null?void 0:T.focusReason)==="pointer"&&g.preventDefault()}e.lockScroll&&_e(c);function de(){e.closeOnPressEscape&&E()}return j(()=>e.modelValue,g=>{g?(f.value=!1,$(),y.value=!0,p.value=Pe(e.zIndex)?u():p.value++,Fe(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):c.value&&k()}),j(()=>e.fullscreen,g=>{t.value&&(g?(a=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=a)}),te(()=>{e.modelValue&&(c.value=!0,y.value=!0,$())}),{afterEnter:A,afterLeave:z,beforeLeave:N,handleClose:E,onModalClick:h,close:k,doClose:s,onOpenAutoFocus:C,onCloseAutoFocus:S,onCloseRequested:de,onFocusoutPrevented:ce,titleId:l,bodyId:m,closed:f,style:P,overlayDialogStyle:F,rendered:y,visible:c,zIndex:p}},fo=["aria-label","aria-labelledby","aria-describedby"],mo=Y({name:"ElDialog",inheritAttrs:!1}),vo=Y({...mo,props:ro,emits:uo,setup(e,{expose:t}){const r=e,d=Re();oe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!d.title)),oe({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!r.customClass));const n=_("dialog"),u=I(),a=I(),l=I(),{visible:m,titleId:c,bodyId:f,style:y,overlayDialogStyle:p,rendered:i,zIndex:v,afterEnter:D,afterLeave:P,beforeLeave:F,handleClose:A,onModalClick:z,onOpenAutoFocus:N,onCloseAutoFocus:$,onCloseRequested:k,onFocusoutPrevented:E}=co(r,u);Ye(re,{dialogRef:u,headerRef:a,bodyId:f,ns:n,rendered:i,style:y});const h=ie(z),M=L(()=>r.draggable&&!r.fullscreen);return t({visible:m,dialogContentRef:l}),(s,C)=>(O(),q(je,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[R(Ke,{name:"dialog-fade",onAfterEnter:o(D),onAfterLeave:o(P),onBeforeLeave:o(F),persisted:""},{default:B(()=>[We(R(o(eo),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(v)},{default:B(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(f),class:w(`${o(n).namespace.value}-overlay-dialog`),style:ne(o(p)),onClick:C[0]||(C[0]=(...S)=>o(h).onClick&&o(h).onClick(...S)),onMousedown:C[1]||(C[1]=(...S)=>o(h).onMousedown&&o(h).onMousedown(...S)),onMouseup:C[2]||(C[2]=(...S)=>o(h).onMouseup&&o(h).onMouseup(...S))},[R(o(He),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(N),onFocusAfterReleased:o($),onFocusoutPrevented:o(E),onReleaseRequested:o(k)},{default:B(()=>[o(i)?(O(),q(io,Xe({key:0,ref_key:"dialogContentRef",ref:l},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(M),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(A)}),Ue({header:B(()=>[s.$slots.title?b(s.$slots,"title",{key:1}):b(s.$slots,"header",{key:0,close:o(A),titleId:o(c),titleClass:o(n).e("title")})]),default:B(()=>[b(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:B(()=>[b(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,fo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ve,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var yo=le(vo,[["__file","dialog.vue"]]);const ho=qe(yo);export{ho as E};
